(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{142:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return s})),n(143),n(144),n(90),n(87),n(145),n(146),n(147),n(88),n(148),n(89),n(91),n(149),n(150),n(151),n(152),n(153),n(154),n(155),n(156),n(157),n(158),n(159),n(160),n(161),n(162),n(163),n(164),n(165),n(166),n(167),n(168),n(169),n(170),n(171),n(172),n(173),n(174),n(175);var r=n(176),a=n.n(r),i=n(177),o=n.n(i),s=function(){function e(t){a()(this,e),this.fileData=[],this.verify=t}return o()(e,[{key:"readFile",value:function(e){var t=this,n=0,r=[];return new Promise((function(a,i){var o;t.files=t.checking(e),0!=t.files.length?((o=new FileReader).readAsDataURL(t.files[n]),o.onload=function(e){t.fileData.push(e.target.result),r.push(e.target.result),++n<t.files.length?o.readAsDataURL(t.files[n]):a([t,r])}):i(t)}))}},{key:"transformBlob",value:function(e){var t=this;return e.map((function(e){return t.convertBase64UrlToBlob(e)}))}},{key:"convertBase64UrlToBlob",value:function(e){for(var t=e.split(","),n=t[0].match(/:(.*?);/)[1],r=atob(t[1]),a=r.length,i=new Uint8Array(a);a--;)i[a]=r.charCodeAt(a);return new Blob([i],{type:n})}},{key:"transKB",value:function(e){if(isNaN(e))return"";var t=Math.floor(Math.log(e)/Math.log(2));t<1&&(t=0);var n=Math.floor(t/10);return(e/=Math.pow(2,10*n)).toString().length>e.toFixed(2).toString().length&&(e=e.toFixed(2)),e+" "+["bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][n]}},{key:"checking",value:function(e){var t=this,n=this;e=Object.values(e);return this.error=[],e.filter((function(e){var r=!0,a=[];t.verify.size&&e.size>t.verify.size&&(a.push({name:e.name,type:"size",info:"上传文件大小超过"+n.transKB(t.verify.size)}),r=!1);var i=e.type&&e.type.split("/");return e.type&&-1==t.verify.type.toString().indexOf(i[1])&&(a.push({name:e.name,type:"type",info:"上传文件格式不正确"}),r=!1),!!r||(n.error.push(a),!1)}))}},{key:"getError",value:function(){var e,t,n="",r="",a=[];return this.error.map((function(a){a.map((function(a){"size"==a.type?(n+=a.name+", ",e=a.info):"type"==a.type&&(r+=a.name+",",t=a.info)}))})),e&&a.push(n+e),t&&a.push(r+t),a}},{key:"previewFile",value:function(e,t){e.map((function(e){var n=new Image;n.src=event.target.result,n.onload=function(){t.clearRect(0,0,canvas.width,canvas.height),t.drawImage(this,0,0,canvas.width,canvas.height);var n=document.createElement("img");n.src=e,n.className="updateImg",holder.insertBefore(n,updateFile)}}))}}]),e}()}}]);